import{_ as i,c as a,o as n,a5 as t}from"./chunks/framework.UiYS8jYT.js";const c=JSON.parse('{"title":"CI/CD è‡ªåŠ¨åŒ–æµ‹è¯•","description":"","frontmatter":{},"headers":[],"relativePath":"guide/ci-cd/index.md","filePath":"guide/ci-cd/index.md"}'),l={name:"guide/ci-cd/index.md"};function h(e,s,p,k,r,d){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="ci-cd-è‡ªåŠ¨åŒ–æµ‹è¯•" tabindex="-1">CI/CD è‡ªåŠ¨åŒ–æµ‹è¯• <a class="header-anchor" href="#ci-cd-è‡ªåŠ¨åŒ–æµ‹è¯•" aria-label="Permalink to &quot;CI/CD è‡ªåŠ¨åŒ–æµ‹è¯•&quot;">â€‹</a></h1><p>Versakit-Vue ä½¿ç”¨ GitHub Actions å®ç°æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œé¡¹ç›®ç¨³å®šæ€§ã€‚</p><h2 id="æ¦‚è¿°" tabindex="-1">æ¦‚è¿° <a class="header-anchor" href="#æ¦‚è¿°" aria-label="Permalink to &quot;æ¦‚è¿°&quot;">â€‹</a></h2><p>é¡¹ç›®é…ç½®äº†è‡ªåŠ¨åŒ–æµ‹è¯•å·¥ä½œæµï¼Œåœ¨ä»¥ä¸‹æƒ…å†µä¸‹è‡ªåŠ¨è¿è¡Œï¼š</p><ul><li>æ¨é€ä»£ç åˆ° <code>main</code> åˆ†æ”¯</li><li>åˆ›å»ºæˆ–æ›´æ–° Pull Request</li><li>æ‰‹åŠ¨è§¦å‘ï¼ˆä» GitHub Actions ç•Œé¢ï¼‰</li></ul><h2 id="æµ‹è¯•å·¥ä½œæµ" tabindex="-1">æµ‹è¯•å·¥ä½œæµ <a class="header-anchor" href="#æµ‹è¯•å·¥ä½œæµ" aria-label="Permalink to &quot;æµ‹è¯•å·¥ä½œæµ&quot;">â€‹</a></h2><h3 id="è‡ªåŠ¨è§¦å‘" tabindex="-1">è‡ªåŠ¨è§¦å‘ <a class="header-anchor" href="#è‡ªåŠ¨è§¦å‘" aria-label="Permalink to &quot;è‡ªåŠ¨è§¦å‘&quot;">â€‹</a></h3><p>æ¯æ¬¡æ¨é€ä»£ç æˆ–åˆ›å»º PR æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š</p><ol><li>âœ… å®‰è£…é¡¹ç›®ä¾èµ–</li><li>âœ… è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•ï¼ˆ291 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰</li><li>âœ… ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š</li><li>âœ… ä¸Šä¼ è¦†ç›–ç‡æ•°æ®åˆ° Codecov</li><li>âœ… ä¿å­˜è¦†ç›–ç‡æŠ¥å‘Šä¸ºæ„å»ºäº§ç‰©</li></ol><h3 id="æŸ¥çœ‹æµ‹è¯•ç»“æœ" tabindex="-1">æŸ¥çœ‹æµ‹è¯•ç»“æœ <a class="header-anchor" href="#æŸ¥çœ‹æµ‹è¯•ç»“æœ" aria-label="Permalink to &quot;æŸ¥çœ‹æµ‹è¯•ç»“æœ&quot;">â€‹</a></h3><h4 id="åœ¨-github-ä¸ŠæŸ¥çœ‹" tabindex="-1">åœ¨ GitHub ä¸ŠæŸ¥çœ‹ <a class="header-anchor" href="#åœ¨-github-ä¸ŠæŸ¥çœ‹" aria-label="Permalink to &quot;åœ¨ GitHub ä¸ŠæŸ¥çœ‹&quot;">â€‹</a></h4><ol><li>è®¿é—®é¡¹ç›®çš„ GitHub ä»“åº“</li><li>ç‚¹å‡»é¡¶éƒ¨çš„ <strong>Actions</strong> é€‰é¡¹å¡</li><li>é€‰æ‹© <strong>Test</strong> å·¥ä½œæµ</li><li>æŸ¥çœ‹æœ€è¿‘çš„è¿è¡Œè®°å½•å’Œè¯¦ç»†æ—¥å¿—</li></ol><h4 id="ä¸‹è½½è¦†ç›–ç‡æŠ¥å‘Š" tabindex="-1">ä¸‹è½½è¦†ç›–ç‡æŠ¥å‘Š <a class="header-anchor" href="#ä¸‹è½½è¦†ç›–ç‡æŠ¥å‘Š" aria-label="Permalink to &quot;ä¸‹è½½è¦†ç›–ç‡æŠ¥å‘Š&quot;">â€‹</a></h4><ol><li>åœ¨ Actions è¿è¡Œè¯¦æƒ…é¡µé¢ï¼Œæ»šåŠ¨åˆ°åº•éƒ¨</li><li>æ‰¾åˆ° <strong>Artifacts</strong> éƒ¨åˆ†</li><li>ä¸‹è½½ <code>coverage-report</code> å‹ç¼©åŒ…</li><li>è§£å‹åæ‰“å¼€ <code>index.html</code> æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š</li></ol><h2 id="æœ¬åœ°æµ‹è¯•" tabindex="-1">æœ¬åœ°æµ‹è¯• <a class="header-anchor" href="#æœ¬åœ°æµ‹è¯•" aria-label="Permalink to &quot;æœ¬åœ°æµ‹è¯•&quot;">â€‹</a></h2><h3 id="è¿è¡Œæ‰€æœ‰æµ‹è¯•" tabindex="-1">è¿è¡Œæ‰€æœ‰æµ‹è¯• <a class="header-anchor" href="#è¿è¡Œæ‰€æœ‰æµ‹è¯•" aria-label="Permalink to &quot;è¿è¡Œæ‰€æœ‰æµ‹è¯•&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><p>è¿™ä¼šè¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å¹¶æ˜¾ç¤ºç»“æœã€‚</p><h3 id="ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š" tabindex="-1">ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š <a class="header-anchor" href="#ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š" aria-label="Permalink to &quot;ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:coverage</span></span></code></pre></div><p>è¿è¡Œåä¼šåœ¨ <code>coverage/</code> ç›®å½•ç”Ÿæˆ HTML æŠ¥å‘Šï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># macOS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> coverage/index.html</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xdg-open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> coverage/index.html</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> coverage/index.html</span></span></code></pre></div><h3 id="ç›‘è§†æ¨¡å¼" tabindex="-1">ç›‘è§†æ¨¡å¼ <a class="header-anchor" href="#ç›‘è§†æ¨¡å¼" aria-label="Permalink to &quot;ç›‘è§†æ¨¡å¼&quot;">â€‹</a></h3><p>åœ¨å¼€å‘æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç›‘è§†æ¨¡å¼è‡ªåŠ¨é‡æ–°è¿è¡Œæµ‹è¯•ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:watch</span></span></code></pre></div><h3 id="ui-ç•Œé¢" tabindex="-1">UI ç•Œé¢ <a class="header-anchor" href="#ui-ç•Œé¢" aria-label="Permalink to &quot;UI ç•Œé¢&quot;">â€‹</a></h3><p>ä½¿ç”¨ Vitest UI ç•Œé¢æŸ¥çœ‹æµ‹è¯•ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:ui</span></span></code></pre></div><p>è¿™ä¼šæ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ç•Œé¢ï¼Œæä¾›æ›´å‹å¥½çš„æµ‹è¯•æŸ¥çœ‹å’Œè°ƒè¯•ä½“éªŒã€‚</p><h2 id="æµ‹è¯•è¦†ç›–ç‡è¦æ±‚" tabindex="-1">æµ‹è¯•è¦†ç›–ç‡è¦æ±‚ <a class="header-anchor" href="#æµ‹è¯•è¦†ç›–ç‡è¦æ±‚" aria-label="Permalink to &quot;æµ‹è¯•è¦†ç›–ç‡è¦æ±‚&quot;">â€‹</a></h2><p>é¡¹ç›®è®¾ç½®äº†ä¸¥æ ¼çš„æµ‹è¯•è¦†ç›–ç‡é˜ˆå€¼ï¼š</p><table tabindex="0"><thead><tr><th>æŒ‡æ ‡</th><th>è¦æ±‚</th></tr></thead><tbody><tr><td>ä»£ç è¡Œè¦†ç›–ç‡</td><td>â‰¥ 80%</td></tr><tr><td>å‡½æ•°è¦†ç›–ç‡</td><td>â‰¥ 80%</td></tr><tr><td>åˆ†æ”¯è¦†ç›–ç‡</td><td>â‰¥ 80%</td></tr><tr><td>è¯­å¥è¦†ç›–ç‡</td><td>â‰¥ 80%</td></tr></tbody></table><p>å¦‚æœè¦†ç›–ç‡ä½äºè¿™äº›é˜ˆå€¼ï¼ŒCI æµ‹è¯•å°†å¤±è´¥ã€‚</p><h2 id="æµ‹è¯•æœ€ä½³å®è·µ" tabindex="-1">æµ‹è¯•æœ€ä½³å®è·µ <a class="header-anchor" href="#æµ‹è¯•æœ€ä½³å®è·µ" aria-label="Permalink to &quot;æµ‹è¯•æœ€ä½³å®è·µ&quot;">â€‹</a></h2><h3 id="_1-æäº¤å‰è¿è¡Œæµ‹è¯•" tabindex="-1">1. æäº¤å‰è¿è¡Œæµ‹è¯• <a class="header-anchor" href="#_1-æäº¤å‰è¿è¡Œæµ‹è¯•" aria-label="Permalink to &quot;1. æäº¤å‰è¿è¡Œæµ‹è¯•&quot;">â€‹</a></h3><p>åœ¨æäº¤ä»£ç å‰ï¼Œå§‹ç»ˆè¿è¡Œæµ‹è¯•ç¡®ä¿æ²¡æœ‰ç ´åç°æœ‰åŠŸèƒ½ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¿«é€Ÿæ£€æŸ¥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®Œæ•´æ£€æŸ¥ï¼ˆåŒ…æ‹¬è¦†ç›–ç‡ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./scripts/check-tests.sh</span></span></code></pre></div><h3 id="_2-ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•" tabindex="-1">2. ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯• <a class="header-anchor" href="#_2-ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•" aria-label="Permalink to &quot;2. ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•&quot;">â€‹</a></h3><p>æ¯ä¸ªæ–°ç»„ä»¶æˆ–åŠŸèƒ½éƒ½åº”è¯¥æœ‰å¯¹åº”çš„æµ‹è¯•ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç»„ä»¶ä½ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">packages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">versakit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">components</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æµ‹è¯•ä½ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">packages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">versakit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">components</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">__tests__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyComponent.test.ts</span></span></code></pre></div><h3 id="_3-æµ‹è¯•å‘½åè§„èŒƒ" tabindex="-1">3. æµ‹è¯•å‘½åè§„èŒƒ <a class="header-anchor" href="#_3-æµ‹è¯•å‘½åè§„èŒƒ" aria-label="Permalink to &quot;3. æµ‹è¯•å‘½åè§„èŒƒ&quot;">â€‹</a></h3><p>ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { describe, it, expect } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vitest&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mount } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@vue/test-utils&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyComponent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../index.vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyComponent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;renders properly&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyComponent)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wrapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exists</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;handles click events&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyComponent)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wrapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wrapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emitted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeTruthy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;displays correct text when prop is provided&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyComponent, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      props: { text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wrapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toContain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="_4-æµ‹è¯•å…³é”®åŠŸèƒ½" tabindex="-1">4. æµ‹è¯•å…³é”®åŠŸèƒ½ <a class="header-anchor" href="#_4-æµ‹è¯•å…³é”®åŠŸèƒ½" aria-label="Permalink to &quot;4. æµ‹è¯•å…³é”®åŠŸèƒ½&quot;">â€‹</a></h3><p>é‡ç‚¹æµ‹è¯•ä»¥ä¸‹æ–¹é¢ï¼š</p><ul><li>âœ… ç»„ä»¶æ¸²æŸ“</li><li>âœ… Props ä¼ é€’å’ŒéªŒè¯</li><li>âœ… äº‹ä»¶è§¦å‘å’Œå¤„ç†</li><li>âœ… æ’æ§½å†…å®¹</li><li>âœ… æ¡ä»¶æ¸²æŸ“</li><li>âœ… ç”¨æˆ·äº¤äº’</li><li>âœ… è¾¹ç•Œæƒ…å†µ</li></ul><h3 id="_5-é¿å…æµ‹è¯•å®ç°ç»†èŠ‚" tabindex="-1">5. é¿å…æµ‹è¯•å®ç°ç»†èŠ‚ <a class="header-anchor" href="#_5-é¿å…æµ‹è¯•å®ç°ç»†èŠ‚" aria-label="Permalink to &quot;5. é¿å…æµ‹è¯•å®ç°ç»†èŠ‚&quot;">â€‹</a></h3><p>æµ‹è¯•åº”è¯¥å…³æ³¨ç»„ä»¶çš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯å®ç°ç»†èŠ‚ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ ä¸å¥½ - æµ‹è¯•å®ç°ç»†èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;has a data property called count&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wrapper.vm.count).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… å¥½ - æµ‹è¯•è¡Œä¸º</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;displays initial count of 0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wrapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toContain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Count: 0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="æ•…éšœæ’æŸ¥" tabindex="-1">æ•…éšœæ’æŸ¥ <a class="header-anchor" href="#æ•…éšœæ’æŸ¥" aria-label="Permalink to &quot;æ•…éšœæ’æŸ¥&quot;">â€‹</a></h2><h3 id="æµ‹è¯•åœ¨-ci-ä¸­å¤±è´¥ä½†æœ¬åœ°é€šè¿‡" tabindex="-1">æµ‹è¯•åœ¨ CI ä¸­å¤±è´¥ä½†æœ¬åœ°é€šè¿‡ <a class="header-anchor" href="#æµ‹è¯•åœ¨-ci-ä¸­å¤±è´¥ä½†æœ¬åœ°é€šè¿‡" aria-label="Permalink to &quot;æµ‹è¯•åœ¨ CI ä¸­å¤±è´¥ä½†æœ¬åœ°é€šè¿‡&quot;">â€‹</a></h3><p>å¯èƒ½çš„åŸå› ï¼š</p><ol><li><p><strong>ä¾èµ–ç‰ˆæœ¬ä¸ä¸€è‡´</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ é™¤ node_modules é‡æ–°å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node_modules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --frozen-lockfile</span></span></code></pre></div></li><li><p><strong>ç¯å¢ƒå·®å¼‚</strong></p><ul><li>CI ä½¿ç”¨ Ubuntuï¼Œæœ¬åœ°å¯èƒ½æ˜¯ macOS/Windows</li><li>æ£€æŸ¥è·¯å¾„åˆ†éš”ç¬¦ã€æ–‡ä»¶æƒé™ç­‰</li></ul></li><li><p><strong>æ—¶åŒºæˆ–æ—¶é—´ç›¸å…³æµ‹è¯•</strong></p><ul><li>ä½¿ç”¨å›ºå®šçš„æ—¶é—´è¿›è¡Œæµ‹è¯•</li><li>é¿å…ä¾èµ–ç³»ç»Ÿæ—¶é—´</li></ul></li></ol><h3 id="è¦†ç›–ç‡ä¸è¶³" tabindex="-1">è¦†ç›–ç‡ä¸è¶³ <a class="header-anchor" href="#è¦†ç›–ç‡ä¸è¶³" aria-label="Permalink to &quot;è¦†ç›–ç‡ä¸è¶³&quot;">â€‹</a></h3><p>å¦‚æœè¦†ç›–ç‡ä½äº 80%ï¼š</p><ol><li><p>è¿è¡Œè¦†ç›–ç‡æŠ¥å‘ŠæŸ¥çœ‹æœªè¦†ç›–çš„ä»£ç ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:coverage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> coverage/index.html</span></span></code></pre></div></li><li><p>ä¸ºæœªè¦†ç›–çš„ä»£ç æ·»åŠ æµ‹è¯•</p></li><li><p>å¦‚æœæŸäº›ä»£ç ç¡®å®ä¸éœ€è¦æµ‹è¯•ï¼ˆå¦‚ç±»å‹å®šä¹‰ï¼‰ï¼Œåœ¨ <code>vitest.config.ts</code> ä¸­æ’é™¤ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">coverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;packages/versakit-vue/src/**/*.d.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;packages/versakit-vue/src/**/types.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·»åŠ å…¶ä»–æ’é™¤é¡¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ol><h3 id="vue-è­¦å‘Š" tabindex="-1">Vue è­¦å‘Š <a class="header-anchor" href="#vue-è­¦å‘Š" aria-label="Permalink to &quot;Vue è­¦å‘Š&quot;">â€‹</a></h3><p>æµ‹è¯•å¯èƒ½ä¼šæ˜¾ç¤º Vue è­¦å‘Šï¼ˆå¦‚ç¼ºå°‘å¿…éœ€çš„ propsï¼‰ï¼Œä½†æµ‹è¯•ä»ç„¶é€šè¿‡ã€‚è¿™äº›è­¦å‘Šåº”è¯¥è¢«ä¿®å¤ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ ä¼šäº§ç”Ÿè­¦å‘Š</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyComponent)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æä¾›å¿…éœ€çš„ props</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyComponent, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  props: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    requiredProp: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;value&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="é…ç½®-codecov-å¯é€‰" tabindex="-1">é…ç½® Codecovï¼ˆå¯é€‰ï¼‰ <a class="header-anchor" href="#é…ç½®-codecov-å¯é€‰" aria-label="Permalink to &quot;é…ç½® Codecovï¼ˆå¯é€‰ï¼‰&quot;">â€‹</a></h2><p>å¦‚æœæƒ³ä½¿ç”¨ Codecov è·Ÿè¸ªè¦†ç›–ç‡è¶‹åŠ¿ï¼š</p><ol><li>è®¿é—® <a href="https://codecov.io" target="_blank" rel="noreferrer">codecov.io</a> å¹¶ç™»å½•</li><li>æ·»åŠ ä½ çš„ GitHub ä»“åº“</li><li>è·å– Codecov Token</li><li>åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ  Secretï¼š <ul><li>Name: <code>CODECOV_TOKEN</code></li><li>Value: ä½ çš„ Codecov Token</li></ul></li><li>æ¨é€ä»£ç ï¼Œè¦†ç›–ç‡æ•°æ®ä¼šè‡ªåŠ¨ä¸Šä¼ </li></ol><h2 id="ç›¸å…³æ–‡ä»¶" tabindex="-1">ç›¸å…³æ–‡ä»¶ <a class="header-anchor" href="#ç›¸å…³æ–‡ä»¶" aria-label="Permalink to &quot;ç›¸å…³æ–‡ä»¶&quot;">â€‹</a></h2><ul><li><code>.github/workflows/test.yml</code> - CI æµ‹è¯•å·¥ä½œæµé…ç½®</li><li><code>vitest.config.ts</code> - Vitest æµ‹è¯•é…ç½®</li><li><code>vitest.setup.ts</code> - æµ‹è¯•ç¯å¢ƒè®¾ç½®</li><li><code>scripts/check-tests.sh</code> - æœ¬åœ°æµ‹è¯•æ£€æŸ¥è„šæœ¬</li></ul><h2 id="ç›¸å…³é“¾æ¥" tabindex="-1">ç›¸å…³é“¾æ¥ <a class="header-anchor" href="#ç›¸å…³é“¾æ¥" aria-label="Permalink to &quot;ç›¸å…³é“¾æ¥&quot;">â€‹</a></h2><ul><li><a href="https://vitest.dev/" target="_blank" rel="noreferrer">Vitest æ–‡æ¡£</a></li><li><a href="https://test-utils.vuejs.org/" target="_blank" rel="noreferrer">Vue Test Utils æ–‡æ¡£</a></li><li><a href="https://docs.github.com/en/actions" target="_blank" rel="noreferrer">GitHub Actions æ–‡æ¡£</a></li><li><a href="https://docs.codecov.com/" target="_blank" rel="noreferrer">Codecov æ–‡æ¡£</a></li></ul><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>é€šè¿‡ CI/CD è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæˆ‘ä»¬ç¡®ä¿ï¼š</p><ul><li>âœ… æ¯æ¬¡ä»£ç å˜æ›´éƒ½ç»è¿‡æµ‹è¯•éªŒè¯</li><li>âœ… ä¿æŒé«˜æµ‹è¯•è¦†ç›–ç‡ï¼ˆâ‰¥ 80%ï¼‰</li><li>âœ… åŠæ—©å‘ç°å’Œä¿®å¤é—®é¢˜</li><li>âœ… æé«˜ä»£ç è´¨é‡å’Œé¡¹ç›®ç¨³å®šæ€§</li><li>âœ… å¢å¼ºå›¢é˜Ÿåä½œä¿¡å¿ƒ</li></ul><p>è®°ä½ï¼š<strong>æµ‹è¯•ä¸æ˜¯è´Ÿæ‹…ï¼Œè€Œæ˜¯ä¿æŠ¤ç½‘ï¼</strong> ğŸ›¡ï¸</p>`,70)]))}const E=i(l,[["render",h]]);export{c as __pageData,E as default};
